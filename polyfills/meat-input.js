!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s(s.s=313)}({313:function(t,e,s){"use strict";s.r(e),s.d(e,"MeatInputElement",function(){return n});const i=document.createElement("template");i.innerHTML='\n<style></style>\n<link rel="stylesheet" href="/web_components/meat-input/meat-input.css"/>\n<input id="input" type="text"></input>\n<div id="suggestionContainer"></div>\n';class n extends HTMLElement{constructor(){super(),this._sortSuggestions=this._sortSuggestions.bind(this),this._switchFocus=this._switchFocus.bind(this),this._onInputChange=this._onInputChange.bind(this),this._suggestions=[],this.shadow=this.attachShadow({mode:"open"}),this.shadow.appendChild(i.content.cloneNode(!0)),this.input=this.shadow.querySelector("input"),this.suggestionContainer=this.shadow.querySelector("#suggestionContainer"),this._currentFocus=0,this.input.addEventListener("input",this._onInputChange),this.input.addEventListener("keydown",this._switchFocus),this.input.addEventListener("mousedown",()=>{this._currentFocus=0}),document.addEventListener("click",()=>{this.suggestionContainer.innerHTML=""})}connectedCallback(){this._upgradeProperty("suggestions");let t=this.parentNode;for(;t;){if(t&&"FORM"==t.nodeName)return t.addEventListener("reset",()=>{this.hasAttribute("readonly")||(this.input.value="",this.value="")}),void t.addEventListener("submit",e=>{t.append(this.input)});t=t.parentNode}}static get observedAttributes(){return["disabled","size","limit","placeholder","password","value","readonly","suggest","autocomplete","bootstrap","type"]}attributeChangedCallback(t,e,s){switch(t){case"disabled":""==s&&(this.input.disabled=!0);break;case"readonly":""==s&&(this.input.readOnly=!0);break;case"value":this.input.value=s;break;case"placeholder":this.input.placeholder=s;break;case"limit":this.input.maxLength=s;break;case"password":this.input.type="password";break;case"autocomplete":this.input.autocomplete=s;break;case"suggest":this.hasAttribute("autocomplete")||"on"!=s||(this.input.autocomplete="off");break;case"size":this.input.setAttribute("size",s);break;case"bootstrap":this.input.setAttribute("bootstrap",s),this.input.className=s;break;case"type":this.input.type=s}}_upgradeProperty(t){if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this[t]=e}"suggestions"==t&&this._sortSuggestions()}_sortSuggestions(){this._suggestions=this._suggestions.sort(function(t,e){const s=[],i=[];t.replace(/(\d+)|(\D+)/g,function(t,e,i){s.push([e||1/0,i||""])}),e.replace(/(\d+)|(\D+)/g,function(t,e,s){i.push([e||1/0,s||""])});let n=0,r=null,u=null,o=null;for(;null!=s[n]&&null!=i[n];)if(r=s[n],u=i[n],n++,0!=(o=r[0]-u[0]||r[1].localeCompare(u[1])))return o;return s.length-i.length})}_switchFocus(t){if(40==t.keyCode?this._currentFocus++:38==t.keyCode&&this._currentFocus--,0==this._currentFocus)return void this.input.focus();const e=this.shadow.querySelector(`#suggestion${this._currentFocus}`);e?(e.focus(),13==t.keyCode&&(t.preventDefault(),this._currentFocus>-1&&(this.value=e.value,this.input.value=e.value,this.suggestionContainer.innerHTML="",this._currentFocus=0,this.input.focus()))):40==t.keyCode?this._currentFocus--:38==t.keyCode&&this._currentFocus++}_onInputChange(t){if(!t.target.value)return void this._renderSuggestions([]);const e=new RegExp(`^${t.target.value}(.*?)`,"i"),s=this._suggestions.filter(t=>t.match(e));this._renderSuggestions(s),this.value=t.target.value}_renderSuggestions(t){"on"!=!this.getAttribute("suggest")&&"on"!=this.getAttribute("autocomplete")&&(this.suggestionContainer.innerHTML="",t.forEach((t,e)=>{const s=document.createElement("div");s.id="suggestion"+(e+1),s.setAttribute("tabindex",e+1),s.className="suggestion",s.value=t,s.innerHTML="<strong>"+t.substr(0,this.input.value.length)+"</strong>",s.innerHTML+=t.substr(this.input.value.length),s.addEventListener("click",()=>{this.input.value=s.textContent,this._currentFocus=e+1}),s.addEventListener("keydown",this._switchFocus),this.suggestionContainer.appendChild(s)}))}get suggestions(){return this._suggestions}set suggestions(t){this._suggestions=t,this._sortSuggestions()}get size(){return this.getAttribute("size")}set size(t){t?this.setAttribute("size",t):this.removeAttribute("size")}get limit(){return this.getAttribute("limit")}set limit(t){t?this.setAttribute("limit",t):this.removeAttribute("limit")}get placeholder(){return this.getAttribute("placeholder")}set placeholder(t){t?this.setAttribute("placeholder",t):this.removeAttribute("placeholder")}get password(){return this.hasAttribute("password")}set password(t){t?this.setAttribute("password",""):this.removeAttribute("password")}get suggest(){return this.hasAttribute("suggest")}set suggest(t){t?this.setAttribute("suggest",t):this.removeAttribute("suggest")}}window.customElements.define("meat-input",n)}});